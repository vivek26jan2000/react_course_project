{"ast":null,"code":"const mongoose = require(\"mongoose\");\n\nmongoose.connect(\"mongodb+srv://vivek:Vivek%4026jan2000@cluster0.aqinzv6.mongodb.net/test\").then(() => {\n  console.log(\"db is connect\");\n});\nconst meetupSchema = new mongoose.Schema({\n  title: {\n    type: String\n  },\n  description: {\n    type: String\n  },\n  address: {\n    type: String\n  },\n  image: {\n    type: String\n  }\n}); // const Meetup = mongoose.model(\"Meetup\", meetupSchema);\n\nlet Meetup;\n\ntry {\n  Meetup = mongoose.model(\"Meetup\");\n} catch (error) {\n  Meetup = mongoose.model(\"Meetup\", meetupSchema);\n}\n\nasync function newMeetupHandler(req, res) {\n  if (req.method === \"POST\") {\n    const newMeetup = await Meetup.create(req.body);\n    res.status(201).json({\n      status: \"success\",\n      message: \"New meetup created successfully\",\n      data: {\n        newMeetup\n      }\n    });\n  }\n}\n\nexport default newMeetupHandler;","map":{"version":3,"sources":["C:/Users/HP/Desktop/online courses/React js practicals/Next.js/pages/api/new-meetup.js"],"names":["mongoose","require","connect","then","console","log","meetupSchema","Schema","title","type","String","description","address","image","Meetup","model","error","newMeetupHandler","req","res","method","newMeetup","create","body","status","json","message","data"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAEAD,QAAQ,CACLE,OADH,CAEI,yEAFJ,EAIGC,IAJH,CAIQ,MAAM;AACVC,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACD,CANH;AAQA,MAAMC,YAAY,GAAG,IAAIN,QAAQ,CAACO,MAAb,CAAoB;AACvCC,EAAAA,KAAK,EAAE;AACLC,IAAAA,IAAI,EAAEC;AADD,GADgC;AAIvCC,EAAAA,WAAW,EAAE;AACXF,IAAAA,IAAI,EAAEC;AADK,GAJ0B;AAOvCE,EAAAA,OAAO,EAAE;AACPH,IAAAA,IAAI,EAAEC;AADC,GAP8B;AAUvCG,EAAAA,KAAK,EAAE;AACLJ,IAAAA,IAAI,EAAEC;AADD;AAVgC,CAApB,CAArB,C,CAeA;;AAEA,IAAII,MAAJ;;AAEA,IAAI;AACFA,EAAAA,MAAM,GAAGd,QAAQ,CAACe,KAAT,CAAe,QAAf,CAAT;AACD,CAFD,CAEE,OAAOC,KAAP,EAAc;AACdF,EAAAA,MAAM,GAAGd,QAAQ,CAACe,KAAT,CAAe,QAAf,EAAyBT,YAAzB,CAAT;AACD;;AAED,eAAeW,gBAAf,CAAgCC,GAAhC,EAAqCC,GAArC,EAA0C;AACxC,MAAID,GAAG,CAACE,MAAJ,KAAe,MAAnB,EAA2B;AACzB,UAAMC,SAAS,GAAG,MAAMP,MAAM,CAACQ,MAAP,CAAcJ,GAAG,CAACK,IAAlB,CAAxB;AAEAJ,IAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBD,MAAAA,MAAM,EAAE,SADW;AAEnBE,MAAAA,OAAO,EAAE,iCAFU;AAGnBC,MAAAA,IAAI,EAAE;AACJN,QAAAA;AADI;AAHa,KAArB;AAOD;AACF;;AAED,eAAeJ,gBAAf","sourcesContent":["const mongoose = require(\"mongoose\");\r\n\r\nmongoose\r\n  .connect(\r\n    \"mongodb+srv://vivek:Vivek%4026jan2000@cluster0.aqinzv6.mongodb.net/test\"\r\n  )\r\n  .then(() => {\r\n    console.log(\"db is connect\");\r\n  });\r\n\r\nconst meetupSchema = new mongoose.Schema({\r\n  title: {\r\n    type: String,\r\n  },\r\n  description: {\r\n    type: String,\r\n  },\r\n  address: {\r\n    type: String,\r\n  },\r\n  image: {\r\n    type: String,\r\n  },\r\n});\r\n\r\n// const Meetup = mongoose.model(\"Meetup\", meetupSchema);\r\n\r\nlet Meetup;\r\n\r\ntry {\r\n  Meetup = mongoose.model(\"Meetup\");\r\n} catch (error) {\r\n  Meetup = mongoose.model(\"Meetup\", meetupSchema);\r\n}\r\n\r\nasync function newMeetupHandler(req, res) {\r\n  if (req.method === \"POST\") {\r\n    const newMeetup = await Meetup.create(req.body);\r\n\r\n    res.status(201).json({\r\n      status: \"success\",\r\n      message: \"New meetup created successfully\",\r\n      data: {\r\n        newMeetup,\r\n      },\r\n    });\r\n  }\r\n}\r\n\r\nexport default newMeetupHandler;\r\n"]},"metadata":{},"sourceType":"module"}